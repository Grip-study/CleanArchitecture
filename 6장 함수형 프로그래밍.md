# 함수형 프로그래밍

- 어떤 수학적 문제를 해결하는 과정에서 람다 lambda 계산법을 발명
- 람다 계산법의 기초가 되는 개념은 불변성(immutability) = symbol의 값이 변경되지 않는다.

=> 함수형 프로그래밍은 할당문에 대해 규칙을 부과한다. 

=> 변수를 변경하지 않는 것을 원칙으로 함


## 불변성과 아키텍처
- race condition
- concurrent update 
- deadlock

=> 가변 변수의 상태 변화 제어로부터 발생 


## 가변성의 분리 

가변 컴포넌트와 불변 컴포넌트를 분리
- 불변 컴포넌트 : 순수하게 함수형 방식으로만 작업이 처리됨
- 가변 컴포넌트 : 변수의 상태를 변경할 수 있음. 함수형 방식 내에 있는 불변 컴포넌트와 통신


상태 변경은 컴포넌트를 동시성 문제에 노출하는 꼴이므로, 흔히 트랜잭션 메모리와 같은 실천법을 사용해 위 문제들로부터 가변변수를 보호한다.
- transactional memory : create, read 명령의 집합이 원자적 방법으로 실행할 수 있게 함으로써 공유 메모리로의 접근을 제어하기 위한 병행성 제어 방식



### 이벤트 소싱
상태가 아닌 트랜잭션을 저장하는 전략
- 상태가 필요해지면 단순히 상태의 시작점부터 모든 트랜잭션을 처리
- 저장 공간과 처리 능력이 충분하면 애플리케이션이 완전한 불변성을 갖도록 만들 수 있고, 따라서 완전한 함수형으로 만들 수 있다.


- create, read만 수행
- update, delete가 발생하지 않으므로 concurrent update 문제도 일어나지 않는다.



